<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link rel="apple-touch-icon" sizes="180x180" href="/new-site/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/new-site/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/new-site/favicon-16x16.png">
  <link rel="manifest" href="/new-site/site.webmanifest">
  <link rel="mask-icon" href="/new-site/safari-pinned-tab.svg" color="#ff6f00">
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="theme-color" content="#ffffff">

  <meta property="og:image:height" content="135">  
  <meta property="og:image:width" content="258">  
  <meta property="og:title" content="Darby Computer and Technology Club">  
  <meta property="og:description" content="Explore tech with other smart people at   Darby.">
  <meta property="og:url" content="https://darbycat.github.io/new-site/">
  <meta property="og:image" content="https://darbycat.github.io/new-site/og-image.jpg">

  <link href="https://fonts.googleapis.com/css?family=Roboto+Slab|Roboto:400,400i,700,700i|Roboto+Mono" rel="stylesheet">

<script defer src="https://use.fontawesome.com/releases/v5.2.0/js/all.js" integrity="sha384-4oV5EgaV02iISL2ban6c/RmotsABqE4yZxZLcYMAdG7FAPsyHYAPpywE9PJo+Khy" crossorigin="anonymous"></script>  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <title>DarbyCAT</title>
  <meta name="description" content="Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description.
">

  <link rel="stylesheet" href="/new-site/css/style.css">
  <link rel="canonical" href="https://darbycat.github.io/new-site/newpost">
  <link rel="alternate" type="application/rss+xml" title="DarbyCAT" href="https://darbycat.github.io/new-site/feed.xml">
</head>


  <body>

    <body>
    <button class="nav-button" onclick="toggleDrawer();">
        <i class="fas fa-bars"></i>
    </button>
    <div class="wrapper">
    <div class="sidebar" id="sidebar">

        <div class="menu">
            <nav>
            <h2>Menu</h2>
            <ul>
                
                    
                <li><a href="/new-site/about/">About</a></li>
                    
                
                    
                
                    
                <li><a href="/new-site/">Home</a></li>
                    
                
                    
                <li><a href="/new-site/macandcheese/">Macaroni and Cheese</a></li>
                    
                
                    
                
                    
                
            </ul>
            </nav>
            <br /><br />
            <h2>News</h2>
            <ul>
                
                <li class="news">Meeting today in room 2062, not room 162! Meeting will be in normal location next time.</li>
                
                <li class="news">yee</li>
                
            </ul>
        </div>
        <div class="visit">
        <b>Visit us:</b><br>
        <span style="vertical-align: bottom;">
        <a href="https://github.com/DarbyCAT"><i class="fab fa-github-square fa-2x"></i></a> <a href="https://github.com/DarbyCAT"><i class="fab fa-twitter-square fa-2x"></i></a> <a href="https://github.com/DarbyCAT"><i class="fab fa-discord fa-2x"></i></a>
    </span>
        </div>
    </div>



    <article class="content">
    <a class="site-title" href="/new-site/"><h2>DarbyCAT</h2></a>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/simplemde/latest/simplemde.min.css">
<script src="https://cdn.jsdelivr.net/simplemde/latest/simplemde.min.js"></script>
<style type="text/css">
#github-logout-warning > div{
	display: flex;
	flex-direction: row;
	align-items: center;
}
#github-logout-warning{
	margin-bottom: 1rem;
	background-color: #e5acac;
	width: 100%;
	padding: .5rem;
}
</style>
<div id="github-logout-warning" style="display: none;">
	<div>
		<div>
			<i class="fas fa-exclamation-triangle" style="font-size: 200%; float: left; padding-right: 10px; height: 100%; vertical-align: center;"></i>
		</div>
		<div>

			<strong>You are not logged in to GitHub.</strong><br>
			You will need to <a href="https://github.com/login" target="_blank">log in</a> or <a href="https://github.com/join" target="_blank">sign up</a> in order to post.<br>
		</div>
	</div>
	<small>(Ignore this warning if you have an ad blocker or similar extension blocking us from seeing you're logged in.)</small>
</div>

<form name="postdetails" action="#" onsubmit="return form_submitted();">
	<input id="posttitle" type="text" placeholder="Title"></text><br>
	<input id="postcatagories" type="text" placeholder="Catagory"></text><br>
	<input id="postfile" type="url" placeholder="URL to attachment"></text><br>

	<textarea id="newpost"></textarea>
	<input type="submit" name="submit" value="Create post">
</form>

<br>
<p>If you are not on officer in DarbyCAT, you will have to make a pull request for your post to be reviewed before publishing.</p>
<p>When you click "create post", it should take you to this page:</p>
<a href="/assets/img/branch.png" data-fancybox><img src="/assets/img/branch.png" alt="You need to fork this repository to make changes"></a>
<p>Click "fork this repository and make changes."</p>
<a href="/assets/img/commit.png" data-fancybox><img src="/assets/img/commit.png" alt="Propose new file"></a>
<p>Next click propose new file. <small>Hint: if it's grayed out, type something into the file contents and delete it.</small></p>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.14.1/moment-with-locales.min.js"></script>
<script>
	var simplemde = new SimpleMDE({ element: $("#newpost")[0], showIcons: ["code", "table"], placeholder: "Post content"});
	function github_detect() {
		var img = document.createElement('img');
		img.src = 'https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Ffavicon.ico%3Fid%3D1';
		img.onerror = function() {
			document.getElementById('github-logout-warning').style.display = 'inline-block';
		};
	}
	github_detect();

	function form_submitted() {
		var postdata = '---\nlayout: post\ntitle: ';
		postdata += JSON.stringify($('#posttitle').val());
		postdata += '\ndate: ';
		postdata += moment(new Date()).format('YYYY-MM-DD HH:mm:ss ZZ');
		postdata += '\ncategories: ';
		postdata += $('#postcatagories').val();
  // postdata += '\nauthor: ';
  // postdata += $('#postauthor').val();
  postdata += '\nfilename: ';
  postdata += $('#postfile').val();
  postdata += '\n---\n';
  postdata += simplemde.value();
  var filename = '_posts/' + moment(new Date()).format('YYYY-MM-DD-') + $('#posttitle').val().replace(/[^a-zA-Z0-9]/g, '-') + ".markdown";
  var message = 'Create new post: "' + $('#posttitle').val().replace(/[^a-zA-Z0-9]/g, '-') + '"';
  var description = '\n\nCommited using the New Post tool on the website.';
  var url = 'https://github.com/darbycat/new-site/new/master?filename=' + encodeURIComponent(filename) + '&value=' + encodeURIComponent(postdata) + '&message='  + encodeURIComponent(message) + '&description=' + encodeURIComponent(description);
  window.location.href = url;
  // console.log(url);
  // stops the page from reloading afterwards
  return false;
}
</script>

    </article>

            </div>
    <!-- <script>$("a:not( [href*='yourdomain.com'] ):not( [href^='#'] ):not( [href^='/'] )").append(' <i class="fas fa-external-link-alt"></i>');</script> -->
    <!-- WE WILL DO THIS LATER! We need to get it working betters -->
    </div>
    </body>
</html>

    <script>
      var toggle;
      var widthThreshold = 1000;

      function toggleDrawer() {
        if (toggle) open();
        else close();

        toggle = !toggle;
      }

      function open() {
        document.getElementsByClassName('sidebar')[0].style = "opacity: 1; width: 27rem; max-width: 100%;";
      }

      function close(transition) {
        if (transition) {
          document.getElementsByClassName('sidebar')[0].style = "width: 27rem; max-width: 0; padding: 2em 0;";
        } else {
          document.getElementsByClassName('sidebar')[0].style = "width: 27rem; max-width: 0; padding: 2em 0;";
        }
      }


      if (window.innerWidth < widthThreshold) {
        close(false);
        toggle = true;
      } else {
        open();
        toggle = false;
      }


      if (window.attachEvent) {
        window.attachEvent('onresize', function() {
          if (window.innerWidth < widthThreshold) {
            close(true);
            toggle = true;
          } else {
            open();
            toggle = false;
          }
        });
      } else if (window.addEventListener) {
        window.addEventListener('resize', function() {
          if (window.innerWidth < widthThreshold) {
            close(true);
            toggle = true;
          } else {
            open();
            toggle = false;
          }
        }, true);
      }
    </script>

  </body>

</html>
